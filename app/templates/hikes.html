{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
{% if username %}
<h1>Hikes registered by user <i>{{username}}</i></h1>
{% else %}
<h1>All registered hikes</h1>
{% endif %}

<table class="table table-hover">
    <tr>
        <td>User</td>
        <td>Date</td>
        <td>Trail</td>
        <td>Distance</td>
        <td>Start</td>
        <td>End</td>
        <td></td>
    </tr>
    {% for hike in hikes %}
    <tr>
        <td>{{hike.walker.username}}</td>
        <td>{{hike.timestamp}}</td>
        <td>{{hike.path.dispname}}</td>
        <td>{{hike.distance}} km</td>
        <td>{{hike.km_start}} km</td>
        <td>{{hike.km_end}} km</td>
        <td>
            <form method="GET" action={{url_for("hikes.show_single_hike", id=hike.id)}}>
                <button class="btn btn-primary btn-sm" type="submit">
                    View details
                </button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

{% if form and username%}
<h1>Add a new hike</h1>
<div class="row">
    <div class="col-md-4">
        {{ wtf.quick_form(
            form=form,
            action=url_for("hikes.show_all_hikes"),
            method="POST")
        }}
    </div>
</div>
{% endif %}


{% endblock %}