{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
<h1>Register a hike on trail {{trail.dispname}}</h1>

<!-- <div class="row">
    <div class="col-md-4">
        {{ wtf.quick_form(
            form=form,
            action=url_for("hikes.add_hike", name=trail.name),
            method="POST")
        }}
    </div>
</div> -->

<!-- <div class="row">
    <div class="col-md-12">
        <form action={{url_for("hikes.add_hike", name=trail.name)}} method="POST">
            {{ form.csrf_token() }}
            <div class="form-group" style="display:inline-block; width:30%; margin-right:1%; vertical-align:top;">
                {{ wtf.form_field(form.timestamp) }}
            </div>
            <div class="form-group" style="display:inline-block; width:15%; margin-right:1%; vertical-align:top;">
                {{ wtf.form_field(form.km_start) }}
            </div>
            <div class="form-group" style="display:inline-block; width:15%; vertical-align:top;">
                {{ wtf.form_field(form.km_end) }}
            </div>
            {{ wtf.form_field(form.submit) }}
        </form>
    </div>
</div> -->

<div class="row">
    <div class="col-md-12">
        <form action={{url_for("hikes.add_hike", name=trail.name)}} method="POST">
            {{ form.csrf_token() }}
            <div>
                <div class="form-group" style="display:inline-block; width:14%; margin-right:1%; vertical-align:top;">
                    {{ wtf.form_field(form.timestamp) }}
                </div>
                <div class="form-group" style="display:inline-block; width:8%; margin-right:1%; vertical-align:top;">
                    {{ wtf.form_field(form.km_start) }}
                </div>
                <div class="form-group" style="display:inline-block; width:8%; vertical-align:top;">
                    {{ wtf.form_field(form.km_end) }}
                </div>
            </div>
            <button type=submit class="btn btn-success" style="margin-top: -20px;">Submit hike</button>
        </form>
    </div>
</div>

<script>
    startfield = document.getElementById('km_start');
    endfield = document.getElementById('km_end');
    startfield.value = 0;
    endfield.value = {{ trail.length }};
</script>

<p style="padding-top:8px;">You can move the pins on the map to select the start and end points
    of
    your hike.</p>

{% include "_map_pins.html" %}

{% endblock %}